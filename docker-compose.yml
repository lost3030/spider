version: '3.8'

services:
  spider:
    build: .
    container_name: spider
    restart: always
    env_file:
      - .env  # 从 .env 文件加载环境变量
    environment:
      - TZ=Asia/Shanghai  # 设置为北京时间（东八区）
    volumes:
      # 持久化数据
      - ./data:/app/data
      - ./screenshots:/app/screenshots
      - ./logs:/app/logs
      - ./config:/app/config
      # 挂载时区文件（可选，更彻底的方案）
      - /etc/localtime:/etc/localtime:ro
    networks:
      - spider-network

networks:
  spider-network:
    driver: bridge
